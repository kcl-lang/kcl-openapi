"""
This file was generated by the KCL auto-gen tool. DO NOT EDIT.
Editing this file might prove futile when you re-run the KCL auto-gen generate command.
"""
import regex
import k8s.apimachinery.pkg.apis.meta.v1
regex_match = regex.match


schema OperatorConfiguration:
    """
    acid zalan do v1 operator configuration

    Attributes
    ----------
    apiVersion : str, default is "acid.zalan.do/v1", required
        APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
    kind : str, default is "OperatorConfiguration", required
        Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
    status : {str:str}, default is Undefined, optional
        status
    configuration : AcidZalanDoV1OperatorConfigurationConfiguration, default is Undefined, required
        configuration
    metadata : v1.ObjectMeta, default is Undefined, optional
        metadata
    """


    apiVersion: "acid.zalan.do/v1" = "acid.zalan.do/v1"

    kind: "OperatorConfiguration" = "OperatorConfiguration"

    status?: {str:str}

    configuration: AcidZalanDoV1OperatorConfigurationConfiguration

    metadata?: v1.ObjectMeta


schema AcidZalanDoV1OperatorConfigurationConfiguration:
    """
    acid zalan do v1 operator configuration configuration

    Attributes
    ----------
    crd_categories : [str], default is Undefined, optional
        crd categories
    docker_image : str, default is "ghcr.io/zalando/spilo-15:3.0-p1", optional
        docker image
    enable_crd_registration : bool, default is True, optional
        enable crd registration
    enable_crd_validation : bool, default is True, optional
        deprecated
    enable_lazy_spilo_upgrade : bool, default is Undefined, optional
        enable lazy spilo upgrade
    enable_pgversion_env_var : bool, default is True, optional
        enable pgversion env var
    enable_shm_volume : bool, default is True, optional
        enable shm volume
    enable_spilo_wal_path_compat : bool, default is Undefined, optional
        enable spilo wal path compat
    enable_team_id_clustername_prefix : bool, default is Undefined, optional
        enable team id clustername prefix
    etcd_host : str, default is Undefined, optional
        etcd host
    ignore_instance_limits_annotation_key : str, default is Undefined, optional
        ignore instance limits annotation key
    kubernetes_use_configmaps : bool, default is Undefined, optional
        kubernetes use configmaps
    max_instances : int, default is -1, optional
        -1 = disabled
    min_instances : int, default is -1, optional
        -1 = disabled
    repair_period : str, default is "5m", optional
        repair period
    resync_period : str, default is "30m", optional
        resync period
    set_memory_request_to_limit : bool, default is Undefined, optional
        set memory request to limit
    sidecar_docker_images : {str:str}, default is Undefined, optional
        sidecar docker images
    sidecars : [any], default is Undefined, optional
        sidecars
    workers : int, default is 8, optional
        workers
    aws_or_gcp : AcidZalanDoV1OperatorConfigurationConfigurationAwsOrGcp, default is Undefined, optional
        aws or gcp
    connection_pooler : AcidZalanDoV1OperatorConfigurationConfigurationConnectionPooler, default is Undefined, optional
        connection pooler
    debug : AcidZalanDoV1OperatorConfigurationConfigurationDebug, default is Undefined, optional
        debug
    kubernetes : AcidZalanDoV1OperatorConfigurationConfigurationKubernetes, default is Undefined, optional
        kubernetes
    load_balancer : AcidZalanDoV1OperatorConfigurationConfigurationLoadBalancer, default is Undefined, optional
        load balancer
    logging_rest_api : AcidZalanDoV1OperatorConfigurationConfigurationLoggingRestAPI, default is Undefined, optional
        logging rest api
    logical_backup : AcidZalanDoV1OperatorConfigurationConfigurationLogicalBackup, default is Undefined, optional
        logical backup
    major_version_upgrade : AcidZalanDoV1OperatorConfigurationConfigurationMajorVersionUpgrade, default is Undefined, optional
        major version upgrade
    patroni : AcidZalanDoV1OperatorConfigurationConfigurationPatroni, default is Undefined, optional
        patroni
    postgres_pod_resources : AcidZalanDoV1OperatorConfigurationConfigurationPostgresPodResources, default is Undefined, optional
        postgres pod resources
    scalyr : AcidZalanDoV1OperatorConfigurationConfigurationScalyr, default is Undefined, optional
        scalyr
    teams_api : AcidZalanDoV1OperatorConfigurationConfigurationTeamsAPI, default is Undefined, optional
        teams api
    timeouts : AcidZalanDoV1OperatorConfigurationConfigurationTimeouts, default is Undefined, optional
        timeouts
    users : AcidZalanDoV1OperatorConfigurationConfigurationUsers, default is Undefined, optional
        users
    """


    crd_categories?: [str]

    docker_image?: str = "ghcr.io/zalando/spilo-15:3.0-p1"

    enable_crd_registration?: bool = True

    enable_crd_validation?: bool = True

    enable_lazy_spilo_upgrade?: bool = False

    enable_pgversion_env_var?: bool = True

    enable_shm_volume?: bool = True

    enable_spilo_wal_path_compat?: bool = False

    enable_team_id_clustername_prefix?: bool = False

    etcd_host?: str = ""

    ignore_instance_limits_annotation_key?: str

    kubernetes_use_configmaps?: bool = False

    max_instances?: int = -1

    min_instances?: int = -1

    repair_period?: str = "5m"

    resync_period?: str = "30m"

    set_memory_request_to_limit?: bool = False

    sidecar_docker_images?: {str:str}

    sidecars?: [any]

    workers?: int = 8

    aws_or_gcp?: AcidZalanDoV1OperatorConfigurationConfigurationAwsOrGcp

    connection_pooler?: AcidZalanDoV1OperatorConfigurationConfigurationConnectionPooler

    debug?: AcidZalanDoV1OperatorConfigurationConfigurationDebug

    kubernetes?: AcidZalanDoV1OperatorConfigurationConfigurationKubernetes

    load_balancer?: AcidZalanDoV1OperatorConfigurationConfigurationLoadBalancer

    logging_rest_api?: AcidZalanDoV1OperatorConfigurationConfigurationLoggingRestAPI

    logical_backup?: AcidZalanDoV1OperatorConfigurationConfigurationLogicalBackup

    major_version_upgrade?: AcidZalanDoV1OperatorConfigurationConfigurationMajorVersionUpgrade

    patroni?: AcidZalanDoV1OperatorConfigurationConfigurationPatroni

    postgres_pod_resources?: AcidZalanDoV1OperatorConfigurationConfigurationPostgresPodResources

    scalyr?: AcidZalanDoV1OperatorConfigurationConfigurationScalyr

    teams_api?: AcidZalanDoV1OperatorConfigurationConfigurationTeamsAPI

    timeouts?: AcidZalanDoV1OperatorConfigurationConfigurationTimeouts

    users?: AcidZalanDoV1OperatorConfigurationConfigurationUsers


    check:
        max_instances >= -1 if max_instances not in [None, Undefined]
        min_instances >= -1 if min_instances not in [None, Undefined]
        workers >= 1 if workers not in [None, Undefined]


schema AcidZalanDoV1OperatorConfigurationConfigurationAwsOrGcp:
    """
    acid zalan do v1 operator configuration configuration aws or gcp

    Attributes
    ----------
    additional_secret_mount : str, default is Undefined, optional
        additional secret mount
    additional_secret_mount_path : str, default is "/meta/credentials", optional
        additional secret mount path
    aws_region : str, default is "eu-central-1", optional
        aws region
    enable_ebs_gp3_migration : bool, default is Undefined, optional
        enable ebs gp3 migration
    enable_ebs_gp3_migration_max_size : int, default is 1000, optional
        enable ebs gp3 migration max size
    gcp_credentials : str, default is Undefined, optional
        gcp credentials
    kube_iam_role : str, default is Undefined, optional
        kube iam role
    log_s3_bucket : str, default is Undefined, optional
        log s3 bucket
    wal_az_storage_account : str, default is Undefined, optional
        wal az storage account
    wal_gs_bucket : str, default is Undefined, optional
        wal gs bucket
    wal_s3_bucket : str, default is Undefined, optional
        wal s3 bucket
    """


    additional_secret_mount?: str

    additional_secret_mount_path?: str = "/meta/credentials"

    aws_region?: str = "eu-central-1"

    enable_ebs_gp3_migration?: bool = False

    enable_ebs_gp3_migration_max_size?: int = 1000

    gcp_credentials?: str

    kube_iam_role?: str

    log_s3_bucket?: str

    wal_az_storage_account?: str

    wal_gs_bucket?: str

    wal_s3_bucket?: str


schema AcidZalanDoV1OperatorConfigurationConfigurationConnectionPooler:
    """
    acid zalan do v1 operator configuration configuration connection pooler

    Attributes
    ----------
    connection_pooler_default_cpu_limit : str, default is "1", optional
        connection pooler default cpu limit
    connection_pooler_default_cpu_request : str, default is "500m", optional
        connection pooler default cpu request
    connection_pooler_default_memory_limit : str, default is "100Mi", optional
        connection pooler default memory limit
    connection_pooler_default_memory_request : str, default is "100Mi", optional
        connection pooler default memory request
    connection_pooler_image : str, default is "registry.opensource.zalan.do/acid/pgbouncer:master-27", optional
        connection pooler image
    connection_pooler_max_db_connections : int, default is 60, optional
        connection pooler max db connections
    connection_pooler_mode : str, default is "transaction", optional
        connection pooler mode
    connection_pooler_number_of_instances : int, default is 2, optional
        connection pooler number of instances
    connection_pooler_schema : str, default is "pooler", optional
        connection pooler schema
    connection_pooler_user : str, default is "pooler", optional
        connection pooler user
    """


    connection_pooler_default_cpu_limit?: str = "1"

    connection_pooler_default_cpu_request?: str = "500m"

    connection_pooler_default_memory_limit?: str = "100Mi"

    connection_pooler_default_memory_request?: str = "100Mi"

    connection_pooler_image?: str = "registry.opensource.zalan.do/acid/pgbouncer:master-27"

    connection_pooler_max_db_connections?: int = 60

    connection_pooler_mode?: "session" | "transaction" = "transaction"

    connection_pooler_number_of_instances?: int = 2

    connection_pooler_schema?: str = "pooler"

    connection_pooler_user?: str = "pooler"


    check:
        regex_match(str(connection_pooler_default_cpu_limit), r"^(\d+m|\d+(\.\d{1,3})?)$") if connection_pooler_default_cpu_limit
        regex_match(str(connection_pooler_default_cpu_request), r"^(\d+m|\d+(\.\d{1,3})?)$") if connection_pooler_default_cpu_request
        regex_match(str(connection_pooler_default_memory_limit), r"^(\d+(e\d+)?|\d+(\.\d+)?(e\d+)?[EPTGMK]i?)$") if connection_pooler_default_memory_limit
        regex_match(str(connection_pooler_default_memory_request), r"^(\d+(e\d+)?|\d+(\.\d+)?(e\d+)?[EPTGMK]i?)$") if connection_pooler_default_memory_request
        connection_pooler_number_of_instances >= 1 if connection_pooler_number_of_instances not in [None, Undefined]


schema AcidZalanDoV1OperatorConfigurationConfigurationDebug:
    """
    acid zalan do v1 operator configuration configuration debug

    Attributes
    ----------
    debug_logging : bool, default is True, optional
        debug logging
    enable_database_access : bool, default is True, optional
        enable database access
    """


    debug_logging?: bool = True

    enable_database_access?: bool = True


schema AcidZalanDoV1OperatorConfigurationConfigurationKubernetes:
    """
    acid zalan do v1 operator configuration configuration kubernetes

    Attributes
    ----------
    additional_pod_capabilities : [str], default is Undefined, optional
        additional pod capabilities
    cluster_domain : str, default is "cluster.local", optional
        cluster domain
    cluster_labels : {str:str}, default is {"application": "spilo"}, optional
        cluster labels
    cluster_name_label : str, default is "cluster-name", optional
        cluster name label
    custom_pod_annotations : {str:str}, default is Undefined, optional
        custom pod annotations
    delete_annotation_date_key : str, default is Undefined, optional
        delete annotation date key
    delete_annotation_name_key : str, default is Undefined, optional
        delete annotation name key
    downscaler_annotations : [str], default is Undefined, optional
        downscaler annotations
    enable_cross_namespace_secret : bool, default is Undefined, optional
        enable cross namespace secret
    enable_init_containers : bool, default is True, optional
        enable init containers
    enable_pod_antiaffinity : bool, default is Undefined, optional
        enable pod antiaffinity
    enable_pod_disruption_budget : bool, default is True, optional
        enable pod disruption budget
    enable_readiness_probe : bool, default is Undefined, optional
        enable readiness probe
    enable_sidecars : bool, default is True, optional
        enable sidecars
    ignored_annotations : [str], default is Undefined, optional
        ignored annotations
    infrastructure_roles_secret_name : str, default is Undefined, optional
        infrastructure roles secret name
    infrastructure_roles_secrets : [AcidZalanDoV1OperatorConfigurationConfigurationKubernetesInfrastructureRolesSecretsItems0], default is Undefined, optional
        infrastructure roles secrets
    inherited_annotations : [str], default is Undefined, optional
        inherited annotations
    inherited_labels : [str], default is Undefined, optional
        inherited labels
    master_pod_move_timeout : str, default is "20m", optional
        master pod move timeout
    node_readiness_label : {str:str}, default is Undefined, optional
        node readiness label
    node_readiness_label_merge : str, default is Undefined, optional
        node readiness label merge
    oauth_token_secret_name : str, default is "postgresql-operator", optional
        oauth token secret name
    pdb_name_format : str, default is "postgres-{cluster}-pdb", optional
        pdb name format
    pod_antiaffinity_preferred_during_scheduling : bool, default is Undefined, optional
        pod antiaffinity preferred during scheduling
    pod_antiaffinity_topology_key : str, default is "kubernetes.io/hostname", optional
        pod antiaffinity topology key
    pod_environment_configmap : str, default is Undefined, optional
        pod environment configmap
    pod_environment_secret : str, default is Undefined, optional
        pod environment secret
    pod_management_policy : str, default is "ordered_ready", optional
        pod management policy
    pod_priority_class_name : str, default is Undefined, optional
        pod priority class name
    pod_role_label : str, default is "spilo-role", optional
        pod role label
    pod_service_account_definition : str, default is Undefined, optional
        pod service account definition
    pod_service_account_name : str, default is "postgres-pod", optional
        pod service account name
    pod_service_account_role_binding_definition : str, default is Undefined, optional
        pod service account role binding definition
    pod_terminate_grace_period : str, default is "5m", optional
        pod terminate grace period
    secret_name_template : str, default is "{username}.{cluster}.credentials.{tprkind}.{tprgroup}", optional
        secret name template
    share_pgsocket_with_sidecars : bool, default is Undefined, optional
        share pgsocket with sidecars
    spilo_allow_privilege_escalation : bool, default is True, optional
        spilo allow privilege escalation
    spilo_fsgroup : int, default is Undefined, optional
        spilo fsgroup
    spilo_privileged : bool, default is Undefined, optional
        spilo privileged
    spilo_runasgroup : int, default is Undefined, optional
        spilo runasgroup
    spilo_runasuser : int, default is Undefined, optional
        spilo runasuser
    storage_resize_mode : str, default is "pvc", optional
        storage resize mode
    toleration : {str:str}, default is Undefined, optional
        toleration
    watched_namespace : str, default is Undefined, optional
        watched namespace
    """


    additional_pod_capabilities?: [str]

    cluster_domain?: str = "cluster.local"

    cluster_labels?: {str:str} = {"application": "spilo"}

    cluster_name_label?: str = "cluster-name"

    custom_pod_annotations?: {str:str}

    delete_annotation_date_key?: str

    delete_annotation_name_key?: str

    downscaler_annotations?: [str]

    enable_cross_namespace_secret?: bool = False

    enable_init_containers?: bool = True

    enable_pod_antiaffinity?: bool = False

    enable_pod_disruption_budget?: bool = True

    enable_readiness_probe?: bool = False

    enable_sidecars?: bool = True

    ignored_annotations?: [str]

    infrastructure_roles_secret_name?: str

    infrastructure_roles_secrets?: [AcidZalanDoV1OperatorConfigurationConfigurationKubernetesInfrastructureRolesSecretsItems0]

    inherited_annotations?: [str]

    inherited_labels?: [str]

    master_pod_move_timeout?: str = "20m"

    node_readiness_label?: {str:str}

    node_readiness_label_merge?: "AND" | "OR"

    oauth_token_secret_name?: str = "postgresql-operator"

    pdb_name_format?: str = "postgres-{cluster}-pdb"

    pod_antiaffinity_preferred_during_scheduling?: bool = False

    pod_antiaffinity_topology_key?: str = "kubernetes.io/hostname"

    pod_environment_configmap?: str

    pod_environment_secret?: str

    pod_management_policy?: "ordered_ready" | "parallel" = "ordered_ready"

    pod_priority_class_name?: str

    pod_role_label?: str = "spilo-role"

    pod_service_account_definition?: str = ""

    pod_service_account_name?: str = "postgres-pod"

    pod_service_account_role_binding_definition?: str = ""

    pod_terminate_grace_period?: str = "5m"

    secret_name_template?: str = "{username}.{cluster}.credentials.{tprkind}.{tprgroup}"

    share_pgsocket_with_sidecars?: bool = False

    spilo_allow_privilege_escalation?: bool = True

    spilo_fsgroup?: int

    spilo_privileged?: bool = False

    spilo_runasgroup?: int

    spilo_runasuser?: int

    storage_resize_mode?: "ebs" | "mixed" | "pvc" | "off" = "pvc"

    toleration?: {str:str}

    watched_namespace?: str


schema AcidZalanDoV1OperatorConfigurationConfigurationKubernetesInfrastructureRolesSecretsItems0:
    """
    acid zalan do v1 operator configuration configuration kubernetes infrastructure roles secrets items0

    Attributes
    ----------
    defaultrolevalue : str, default is Undefined, optional
        defaultrolevalue
    defaultuservalue : str, default is Undefined, optional
        defaultuservalue
    details : str, default is Undefined, optional
        details
    passwordkey : str, default is Undefined, required
        passwordkey
    rolekey : str, default is Undefined, optional
        rolekey
    secretname : str, default is Undefined, required
        secretname
    template : bool, default is Undefined, optional
        template
    userkey : str, default is Undefined, required
        userkey
    """


    defaultrolevalue?: str

    defaultuservalue?: str

    details?: str

    passwordkey: str

    rolekey?: str

    secretname: str

    template?: bool

    userkey: str


schema AcidZalanDoV1OperatorConfigurationConfigurationLoadBalancer:
    """
    acid zalan do v1 operator configuration configuration load balancer

    Attributes
    ----------
    custom_service_annotations : {str:str}, default is Undefined, optional
        custom service annotations
    db_hosted_zone : str, default is "db.example.com", optional
        db hosted zone
    enable_master_load_balancer : bool, default is True, optional
        enable master load balancer
    enable_master_pooler_load_balancer : bool, default is Undefined, optional
        enable master pooler load balancer
    enable_replica_load_balancer : bool, default is Undefined, optional
        enable replica load balancer
    enable_replica_pooler_load_balancer : bool, default is Undefined, optional
        enable replica pooler load balancer
    external_traffic_policy : str, default is "Cluster", optional
        external traffic policy
    master_dns_name_format : str, default is "{cluster}.{namespace}.{hostedzone}", optional
        master dns name format
    master_legacy_dns_name_format : str, default is "{cluster}.{team}.{hostedzone}", optional
        master legacy dns name format
    replica_dns_name_format : str, default is "{cluster}-repl.{namespace}.{hostedzone}", optional
        replica dns name format
    replica_legacy_dns_name_format : str, default is "{cluster}-repl.{team}.{hostedzone}", optional
        replica legacy dns name format
    """


    custom_service_annotations?: {str:str}

    db_hosted_zone?: str = "db.example.com"

    enable_master_load_balancer?: bool = True

    enable_master_pooler_load_balancer?: bool = False

    enable_replica_load_balancer?: bool = False

    enable_replica_pooler_load_balancer?: bool = False

    external_traffic_policy?: "Cluster" | "Local" = "Cluster"

    master_dns_name_format?: str = "{cluster}.{namespace}.{hostedzone}"

    master_legacy_dns_name_format?: str = "{cluster}.{team}.{hostedzone}"

    replica_dns_name_format?: str = "{cluster}-repl.{namespace}.{hostedzone}"

    replica_legacy_dns_name_format?: str = "{cluster}-repl.{team}.{hostedzone}"


schema AcidZalanDoV1OperatorConfigurationConfigurationLoggingRestAPI:
    """
    acid zalan do v1 operator configuration configuration logging rest API

    Attributes
    ----------
    api_port : int, default is 8080, optional
        api port
    cluster_history_entries : int, default is 1000, optional
        cluster history entries
    ring_log_lines : int, default is 100, optional
        ring log lines
    """


    api_port?: int = 8080

    cluster_history_entries?: int = 1000

    ring_log_lines?: int = 100


schema AcidZalanDoV1OperatorConfigurationConfigurationLogicalBackup:
    """
    acid zalan do v1 operator configuration configuration logical backup

    Attributes
    ----------
    logical_backup_azure_storage_account_key : str, default is Undefined, optional
        logical backup azure storage account key
    logical_backup_azure_storage_account_name : str, default is Undefined, optional
        logical backup azure storage account name
    logical_backup_azure_storage_container : str, default is Undefined, optional
        logical backup azure storage container
    logical_backup_cpu_limit : str, default is Undefined, optional
        logical backup cpu limit
    logical_backup_cpu_request : str, default is Undefined, optional
        logical backup cpu request
    logical_backup_docker_image : str, default is "registry.opensource.zalan.do/acid/logical-backup:v1.10.1", optional
        logical backup docker image
    logical_backup_google_application_credentials : str, default is Undefined, optional
        logical backup google application credentials
    logical_backup_job_prefix : str, default is "logical-backup-", optional
        logical backup job prefix
    logical_backup_memory_limit : str, default is Undefined, optional
        logical backup memory limit
    logical_backup_memory_request : str, default is Undefined, optional
        logical backup memory request
    logical_backup_provider : str, default is "s3", optional
        logical backup provider
    logical_backup_s3_access_key_id : str, default is Undefined, optional
        logical backup s3 access key id
    logical_backup_s3_bucket : str, default is Undefined, optional
        logical backup s3 bucket
    logical_backup_s3_endpoint : str, default is Undefined, optional
        logical backup s3 endpoint
    logical_backup_s3_region : str, default is Undefined, optional
        logical backup s3 region
    logical_backup_s3_retention_time : str, default is Undefined, optional
        logical backup s3 retention time
    logical_backup_s3_secret_access_key : str, default is Undefined, optional
        logical backup s3 secret access key
    logical_backup_s3_sse : str, default is Undefined, optional
        logical backup s3 sse
    logical_backup_schedule : str, default is "30 00 * * *", optional
        logical backup schedule
    """


    logical_backup_azure_storage_account_key?: str

    logical_backup_azure_storage_account_name?: str

    logical_backup_azure_storage_container?: str

    logical_backup_cpu_limit?: str

    logical_backup_cpu_request?: str

    logical_backup_docker_image?: str = "registry.opensource.zalan.do/acid/logical-backup:v1.10.1"

    logical_backup_google_application_credentials?: str

    logical_backup_job_prefix?: str = "logical-backup-"

    logical_backup_memory_limit?: str

    logical_backup_memory_request?: str

    logical_backup_provider?: "az" | "gcs" | "s3" = "s3"

    logical_backup_s3_access_key_id?: str

    logical_backup_s3_bucket?: str

    logical_backup_s3_endpoint?: str

    logical_backup_s3_region?: str

    logical_backup_s3_retention_time?: str

    logical_backup_s3_secret_access_key?: str

    logical_backup_s3_sse?: str

    logical_backup_schedule?: str = "30 00 * * *"


    check:
        regex_match(str(logical_backup_cpu_limit), r"^(\d+m|\d+(\.\d{1,3})?)$") if logical_backup_cpu_limit
        regex_match(str(logical_backup_cpu_request), r"^(\d+m|\d+(\.\d{1,3})?)$") if logical_backup_cpu_request
        regex_match(str(logical_backup_memory_limit), r"^(\d+(e\d+)?|\d+(\.\d+)?(e\d+)?[EPTGMK]i?)$") if logical_backup_memory_limit
        regex_match(str(logical_backup_memory_request), r"^(\d+(e\d+)?|\d+(\.\d+)?(e\d+)?[EPTGMK]i?)$") if logical_backup_memory_request
        regex_match(str(logical_backup_schedule), r"^(\d+|\*)(/\d+)?(\s+(\d+|\*)(/\d+)?){4}$") if logical_backup_schedule


schema AcidZalanDoV1OperatorConfigurationConfigurationMajorVersionUpgrade:
    """
    acid zalan do v1 operator configuration configuration major version upgrade

    Attributes
    ----------
    major_version_upgrade_mode : str, default is "off", optional
        major version upgrade mode
    major_version_upgrade_team_allow_list : [str], default is Undefined, optional
        major version upgrade team allow list
    minimal_major_version : str, default is "11", optional
        minimal major version
    target_major_version : str, default is "15", optional
        target major version
    """


    major_version_upgrade_mode?: str = "off"

    major_version_upgrade_team_allow_list?: [str]

    minimal_major_version?: str = "11"

    target_major_version?: str = "15"


schema AcidZalanDoV1OperatorConfigurationConfigurationPatroni:
    """
    acid zalan do v1 operator configuration configuration patroni

    Attributes
    ----------
    enable_patroni_failsafe_mode : bool, default is Undefined, optional
        enable patroni failsafe mode
    """


    enable_patroni_failsafe_mode?: bool = False


schema AcidZalanDoV1OperatorConfigurationConfigurationPostgresPodResources:
    """
    acid zalan do v1 operator configuration configuration postgres pod resources

    Attributes
    ----------
    default_cpu_limit : str, default is "1", optional
        default cpu limit
    default_cpu_request : str, default is "100m", optional
        default cpu request
    default_memory_limit : str, default is "500Mi", optional
        default memory limit
    default_memory_request : str, default is "100Mi", optional
        default memory request
    max_cpu_request : str, default is Undefined, optional
        max cpu request
    max_memory_request : str, default is Undefined, optional
        max memory request
    min_cpu_limit : str, default is "250m", optional
        min cpu limit
    min_memory_limit : str, default is "250Mi", optional
        min memory limit
    """


    default_cpu_limit?: str = "1"

    default_cpu_request?: str = "100m"

    default_memory_limit?: str = "500Mi"

    default_memory_request?: str = "100Mi"

    max_cpu_request?: str

    max_memory_request?: str

    min_cpu_limit?: str = "250m"

    min_memory_limit?: str = "250Mi"


    check:
        regex_match(str(default_cpu_limit), r"^(\d+m|\d+(\.\d{1,3})?)$") if default_cpu_limit
        regex_match(str(default_cpu_request), r"^(\d+m|\d+(\.\d{1,3})?)$") if default_cpu_request
        regex_match(str(default_memory_limit), r"^(\d+(e\d+)?|\d+(\.\d+)?(e\d+)?[EPTGMK]i?)$") if default_memory_limit
        regex_match(str(default_memory_request), r"^(\d+(e\d+)?|\d+(\.\d+)?(e\d+)?[EPTGMK]i?)$") if default_memory_request
        regex_match(str(max_cpu_request), r"^(\d+m|\d+(\.\d{1,3})?)$") if max_cpu_request
        regex_match(str(max_memory_request), r"^(\d+(e\d+)?|\d+(\.\d+)?(e\d+)?[EPTGMK]i?)$") if max_memory_request
        regex_match(str(min_cpu_limit), r"^(\d+m|\d+(\.\d{1,3})?)$") if min_cpu_limit
        regex_match(str(min_memory_limit), r"^(\d+(e\d+)?|\d+(\.\d+)?(e\d+)?[EPTGMK]i?)$") if min_memory_limit


schema AcidZalanDoV1OperatorConfigurationConfigurationScalyr:
    """
    acid zalan do v1 operator configuration configuration scalyr

    Attributes
    ----------
    scalyr_api_key : str, default is Undefined, optional
        scalyr api key
    scalyr_cpu_limit : str, default is "1", optional
        scalyr cpu limit
    scalyr_cpu_request : str, default is "100m", optional
        scalyr cpu request
    scalyr_image : str, default is Undefined, optional
        scalyr image
    scalyr_memory_limit : str, default is "500Mi", optional
        scalyr memory limit
    scalyr_memory_request : str, default is "50Mi", optional
        scalyr memory request
    scalyr_server_url : str, default is "https://upload.eu.scalyr.com", optional
        scalyr server url
    """


    scalyr_api_key?: str

    scalyr_cpu_limit?: str = "1"

    scalyr_cpu_request?: str = "100m"

    scalyr_image?: str

    scalyr_memory_limit?: str = "500Mi"

    scalyr_memory_request?: str = "50Mi"

    scalyr_server_url?: str = "https://upload.eu.scalyr.com"


    check:
        regex_match(str(scalyr_cpu_limit), r"^(\d+m|\d+(\.\d{1,3})?)$") if scalyr_cpu_limit
        regex_match(str(scalyr_cpu_request), r"^(\d+m|\d+(\.\d{1,3})?)$") if scalyr_cpu_request
        regex_match(str(scalyr_memory_limit), r"^(\d+(e\d+)?|\d+(\.\d+)?(e\d+)?[EPTGMK]i?)$") if scalyr_memory_limit
        regex_match(str(scalyr_memory_request), r"^(\d+(e\d+)?|\d+(\.\d+)?(e\d+)?[EPTGMK]i?)$") if scalyr_memory_request


schema AcidZalanDoV1OperatorConfigurationConfigurationTeamsAPI:
    """
    acid zalan do v1 operator configuration configuration teams API

    Attributes
    ----------
    enable_admin_role_for_users : bool, default is True, optional
        enable admin role for users
    enable_postgres_team_crd : bool, default is True, optional
        enable postgres team crd
    enable_postgres_team_crd_superusers : bool, default is Undefined, optional
        enable postgres team crd superusers
    enable_team_member_deprecation : bool, default is Undefined, optional
        enable team member deprecation
    enable_team_superuser : bool, default is Undefined, optional
        enable team superuser
    enable_teams_api : bool, default is True, optional
        enable teams api
    pam_configuration : str, default is "https://info.example.com/oauth2/tokeninfo?access_token= uid realm=/employees", optional
        pam configuration
    pam_role_name : str, default is "zalandos", optional
        pam role name
    postgres_superuser_teams : [str], default is Undefined, optional
        postgres superuser teams
    protected_role_names : [str], default is ["admin", "cron_admin"], optional
        protected role names
    role_deletion_suffix : str, default is "_deleted", optional
        role deletion suffix
    team_admin_role : str, default is "admin", optional
        team admin role
    team_api_role_configuration : {str:str}, default is {"log_statement": "all"}, optional
        team api role configuration
    teams_api_url : str, default is "https://teams.example.com/api/", optional
        teams api url
    """


    enable_admin_role_for_users?: bool = True

    enable_postgres_team_crd?: bool = True

    enable_postgres_team_crd_superusers?: bool = False

    enable_team_member_deprecation?: bool = False

    enable_team_superuser?: bool = False

    enable_teams_api?: bool = True

    pam_configuration?: str = "https://info.example.com/oauth2/tokeninfo?access_token= uid realm=/employees"

    pam_role_name?: str = "zalandos"

    postgres_superuser_teams?: [str]

    protected_role_names?: [str] = ["admin", "cron_admin"]

    role_deletion_suffix?: str = "_deleted"

    team_admin_role?: str = "admin"

    team_api_role_configuration?: {str:str} = {"log_statement": "all"}

    teams_api_url?: str = "https://teams.example.com/api/"


schema AcidZalanDoV1OperatorConfigurationConfigurationTimeouts:
    """
    acid zalan do v1 operator configuration configuration timeouts

    Attributes
    ----------
    patroni_api_check_interval : str, default is "1s", optional
        patroni api check interval
    patroni_api_check_timeout : str, default is "5s", optional
        patroni api check timeout
    pod_deletion_wait_timeout : str, default is "10m", optional
        pod deletion wait timeout
    pod_label_wait_timeout : str, default is "10m", optional
        pod label wait timeout
    ready_wait_interval : str, default is "4s", optional
        ready wait interval
    ready_wait_timeout : str, default is "30s", optional
        ready wait timeout
    resource_check_interval : str, default is "3s", optional
        resource check interval
    resource_check_timeout : str, default is "10m", optional
        resource check timeout
    """


    patroni_api_check_interval?: str = "1s"

    patroni_api_check_timeout?: str = "5s"

    pod_deletion_wait_timeout?: str = "10m"

    pod_label_wait_timeout?: str = "10m"

    ready_wait_interval?: str = "4s"

    ready_wait_timeout?: str = "30s"

    resource_check_interval?: str = "3s"

    resource_check_timeout?: str = "10m"


schema AcidZalanDoV1OperatorConfigurationConfigurationUsers:
    """
    acid zalan do v1 operator configuration configuration users

    Attributes
    ----------
    additional_owner_roles : [str], default is Undefined, optional
        additional owner roles
    enable_password_rotation : bool, default is Undefined, optional
        enable password rotation
    password_rotation_interval : int, default is 90, optional
        password rotation interval
    password_rotation_user_retention : int, default is 180, optional
        password rotation user retention
    replication_username : str, default is "standby", optional
        replication username
    super_username : str, default is "postgres", optional
        super username
    """


    additional_owner_roles?: [str]

    enable_password_rotation?: bool = False

    password_rotation_interval?: int = 90

    password_rotation_user_retention?: int = 180

    replication_username?: str = "standby"

    super_username?: str = "postgres"


